<!DOCTYPE html><html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fotoğraf Albümü </title>
  <style>
    :root {
      --bg: #0f172a;        /* slate-900 */
      --panel: #111827;     /* gray-900 */
      --muted: #94a3b8;     /* slate-400 */
      --text: #e5e7eb;      /* gray-200 */
      --accent: #22c55e;    /* green-500 */
      --accent-2: #60a5fa;  /* blue-400 */
      --danger: #ef4444;    /* red-500 */
      --card: #0b1220;      
      --ring: #334155;      /* slate-600 */
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background: radial-gradient(1200px 600px at 20% -10%, #1f2937 0%, var(--bg) 60%);
      color: var(--text);
    }
    .wrap { max-width: 1100px; margin: 40px auto; padding: 0 16px; }
    h1 { font-weight: 800; letter-spacing: 0.3px; margin: 0 0 8px; }
    p.sub { margin: 0 0 24px; color: var(--muted); }/* Album (collapsible) */
details.album {
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0));
  border: 1px solid var(--ring);
  border-radius: 16px;
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
  overflow: hidden;
}
details.album > summary {
  list-style: none;
  cursor: pointer;
  display: flex; align-items: center; justify-content: space-between;
  gap: 16px; padding: 16px 18px; font-weight: 700; font-size: 18px;
  background: rgba(255,255,255,0.04);
  position: sticky; top: 0; z-index: 5;
}
details.album > summary::-webkit-details-marker { display: none; }
.summary-left { display: flex; align-items: center; gap: 12px; }
.chev { width: 18px; height: 18px; transition: transform .25s ease; opacity: .9; }
details[open] .chev { transform: rotate(90deg); }
.count-badge {
  background: rgba(96,165,250,.15);
  border: 1px solid rgba(96,165,250,.35);
  color: #dbeafe; font-weight: 700;
  padding: 4px 10px; border-radius: 999px; font-size: 12px;
}

/* Controls */
.controls { display: flex; flex-wrap: wrap; gap: 12px; padding: 14px 16px; border-top: 1px solid var(--ring); }
.btn {
  appearance: none; border: 1px solid var(--ring); padding: 10px 14px; border-radius: 12px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0));
  color: var(--text); font-weight: 700; letter-spacing: .2px; cursor: pointer;
  transition: transform .04s ease, box-shadow .2s ease, border-color .2s ease;
}
.btn:hover { box-shadow: 0 10px 20px rgba(0,0,0,.35); border-color: #64748b; }
.btn:active { transform: translateY(1px); }
.btn.accent { border-color: rgba(34,197,94,.6); }
.btn.danger { border-color: rgba(239,68,68,.6); }

input[type="file"] { display: none; }
.file-label { display: inline-flex; align-items: center; gap: 10px; }

/* Drop zone */
.dropzone {
  margin: 0 16px 16px; border: 2px dashed var(--ring); border-radius: 14px; padding: 18px; text-align: center; color: var(--muted);
}
.dropzone.dragover { border-color: var(--accent-2); color: #cfe0ff; background: rgba(96,165,250,.06); }

/* Gallery */
.gallery { display: grid; gap: 12px; padding: 16px; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); }
.card {
  position: relative; background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(0,0,0,.2));
  border: 1px solid var(--ring); border-radius: 14px; overflow: hidden; isolation: isolate;
}
.card img { display: block; width: 100%; height: 160px; object-fit: cover; background: #0b1220; }
.card .meta { display: flex; align-items: center; justify-content: space-between; gap: 8px; padding: 8px 10px; font-size: 12px; color: var(--muted); }
.card .actions { position: absolute; top: 8px; right: 8px; display: flex; gap: 6px; }
.icon-btn { border: none; background: rgba(17,24,39,.6); backdrop-filter: blur(8px); color: #e2e8f0; width: 32px; height: 32px; border-radius: 8px; display: grid; place-items: center; cursor: pointer; }
.icon-btn:hover { background: rgba(34,197,94,.25); }
.icon-btn.danger:hover { background: rgba(239,68,68,.35); }

/* Drag & drop cards */
.card.dragging { opacity: .5; outline: 2px dashed #60a5fa; }

/* Footer note */
.note { color: var(--muted); font-size: 13px; padding: 0 6px 6px 6px; }

  </style>
</head>
<body>
  <div class="wrap">
    <h1>Fotoğraf Albümü</h1>
    <p class="sub">Aç/kapa, JPG ekle/çıkar, sürükle-bırak sıralama. Tamamen tarayıcı içinde çalışır (dosyalar kaydedilmez).</p><details class="album" open>
  <summary>
    <div class="summary-left">
      <svg class="chev" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polyline points="9 18 15 12 9 6"></polyline></svg>
      <span>Albümüm</span>
    </div>
    <span class="count-badge" id="count">0 foto</span>
  </summary>

  <div class="controls">
    <label class="btn accent file-label" for="fileInput" title="JPG ekle">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M12 5v14M5 12h14"/></svg>
      <span>Fotoğraf Ekle (JPG)</span>
    </label>
    <input id="fileInput" type="file" accept="image/jpeg" multiple />

    <button class="btn danger" id="clearAll" title="Tüm fotoğrafları sil">Hepsini Temizle</button>
  </div>

  <div id="dropzone" class="dropzone">JPG dosyalarını buraya sürükleyip bırakın veya "Fotoğraf Ekle"ye tıklayın.</div>

  <div id="gallery" class="gallery" aria-live="polite"></div>
  <p class="note">İpucu: Kartları sürükleyerek sıralayabilir, her karttaki çöp kutusuyla silebilirsiniz.</p>
</details>

  </div>  <script>
    const fileInput = document.getElementById('fileInput');
    const galleryEl = document.getElementById('gallery');
    const countEl = document.getElementById('count');
    const clearAllBtn = document.getElementById('clearAll');
    const dropzone = document.getElementById('dropzone');

    /** Albüm durumu */
    /** @type {{ id:string, name:string, dataUrl:string, size:number }[]} */
    let photos = [];

    function uid() { return Math.random().toString(36).slice(2, 10); }

    function updateCount() {
      countEl.textContent = `${photos.length} foto`;
    }

    function renderGallery() {
      galleryEl.innerHTML = '';
      photos.forEach((p, idx) => {
        const card = document.createElement('div');
        card.className = 'card';
        card.draggable = true;
        card.dataset.id = p.id;

        const img = document.createElement('img');
        img.src = p.dataUrl;
        img.alt = p.name || `Fotoğraf ${idx+1}`;
        card.appendChild(img);

        const actions = document.createElement('div');
        actions.className = 'actions';

        const removeBtn = document.createElement('button');
        removeBtn.className = 'icon-btn danger';
        removeBtn.innerHTML = '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polyline points="3 6 5 6 21 6"/><path d="M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>';
        removeBtn.title = 'Sil';
        removeBtn.addEventListener('click', () => {
          photos = photos.filter(x => x.id !== p.id);
          renderGallery();
          updateCount();
        });
        actions.appendChild(removeBtn);
        card.appendChild(actions);

        const meta = document.createElement('div');
        meta.className = 'meta';
        const nameSpan = document.createElement('span');
        nameSpan.textContent = p.name;
        nameSpan.title = p.name;
        const sizeSpan = document.createElement('span');
        sizeSpan.textContent = formatBytes(p.size);
        meta.appendChild(nameSpan);
        meta.appendChild(sizeSpan);
        card.appendChild(meta);

        // Drag events
        card.addEventListener('dragstart', (e) => {
          card.classList.add('dragging');
          e.dataTransfer.setData('text/plain', p.id);
        });
        card.addEventListener('dragend', () => card.classList.remove('dragging'));
        card.addEventListener('dragover', (e) => e.preventDefault());
        card.addEventListener('drop', (e) => {
          e.preventDefault();
          const draggedId = e.dataTransfer.getData('text/plain');
          const targetId = p.id;
          reorderPhotos(draggedId, targetId);
        });

        galleryEl.appendChild(card);
      });
    }

    function reorderPhotos(draggedId, targetId) {
      if (draggedId === targetId) return;
      const fromIdx = photos.findIndex(x => x.id === draggedId);
      const toIdx = photos.findIndex(x => x.id === targetId);
      if (fromIdx < 0 || toIdx < 0) return;
      const [moved] = photos.splice(fromIdx, 1);
      photos.splice(toIdx, 0, moved);
      renderGallery();
    }

    function formatBytes(bytes) {
      const units = ['B','KB','MB','GB'];
      let i = 0; let n = bytes;
      while (n >= 1024 && i < units.length - 1) { n /= 1024; i++; }
      return `${n.toFixed(n < 10 && i > 0 ? 1 : 0)} ${units[i]}`;
    }

    function handleFiles(fileList) {
      const files = Array.from(fileList).filter(f => f.type === 'image/jpeg');
      if (files.length === 0) {
        alert('Lütfen JPG/JPEG dosyaları ekleyin.');
        return;
      }
      const readers = files.map(f => new Promise(resolve => {
        const fr = new FileReader();
        fr.onload = () => resolve({ id: uid(), name: f.name, dataUrl: fr.result, size: f.size });
        fr.readAsDataURL(f);
      }));
      Promise.all(readers).then(items => {
        photos.push(...items);
        renderGallery();
        updateCount();
      });
    }

    // File input
    fileInput.addEventListener('change', (e) => {
      if (e.target.files?.length) handleFiles(e.target.files);
      fileInput.value = '';
    });

    // Clear all
    clearAllBtn.addEventListener('click', () => {
      if (photos.length === 0) return;
      if (confirm('Tüm fotoğraflar silinsin mi?')) {
        photos = [];
        renderGallery();
        updateCount();
      }
    });

    // Dropzone events
    ['dragenter','dragover'].forEach(evt => {
      dropzone.addEventListener(evt, (e) => { e.preventDefault(); dropzone.classList.add('dragover'); });
    });
    ['dragleave','drop'].forEach(evt => {
      dropzone.addEventListener(evt, (e) => { e.preventDefault(); dropzone.classList.remove('dragover'); });
    });
    dropzone.addEventListener('drop', (e) => {
      const dt = e.dataTransfer;
      if (dt?.files?.length) handleFiles(dt.files);
    });

    // İlk durum
    updateCount();
  </script></body>
</html>
